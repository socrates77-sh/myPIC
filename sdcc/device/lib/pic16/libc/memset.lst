gpasm-0.14.1 (Aug 18 2017)   memset.asm         8-18-2017  19:22:11          PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;--------------------------------------------------------
                      00002 ; File Created by SDCC : free open source ANSI-C Compiler
                      00003 ; Version 3.2.0 #8004 (Aug 18 2017) (MINGW32)
                      00004 ; This file was generated Fri Aug 18 19:22:11 2017
                      00005 ;--------------------------------------------------------
                      00006 ; PIC16 port for the Microchip 16-bit core micros
                      00007 ;--------------------------------------------------------
                      00008         list    p=18f452
                      00009 
                      00010         radix dec
                      00011 
                      00012 ;--------------------------------------------------------
                      00013 ; public variables in this module
                      00014 ;--------------------------------------------------------
                      00015         global  _memset
                      00016 
                      00017 ;--------------------------------------------------------
                      00018 ; extern variables in this module
                      00019 ;--------------------------------------------------------
                      00020         extern  __gptrput1
                      00021 
                      00022 ;--------------------------------------------------------
                      00023 ;       Equates to used internal registers
                      00024 ;--------------------------------------------------------
  00000FD8            00025 STATUS  equ     0xfd8
  00000FE8            00026 WREG    equ     0xfe8
  00000FE9            00027 FSR0L   equ     0xfe9
  00000FE1            00028 FSR1L   equ     0xfe1
  00000FD9            00029 FSR2L   equ     0xfd9
  00000FE5            00030 POSTDEC1        equ     0xfe5
  00000FE4            00031 PREINC1 equ     0xfe4
  00000FDB            00032 PLUSW2  equ     0xfdb
  00000FF3            00033 PRODL   equ     0xff3
  00000FF4            00034 PRODH   equ     0xff4
                      00035 
                      00036 
                      00037 ; Internal registers
                      00038 .registers      udata_ovr       0x0000
000000                00039 r0x00   res     1
000001                00040 r0x01   res     1
000002                00041 r0x02   res     1
000003                00042 r0x03   res     1
000004                00043 r0x04   res     1
000005                00044 r0x05   res     1
000006                00045 r0x06   res     1
000007                00046 r0x07   res     1
000008                00047 r0x08   res     1
000009                00048 r0x09   res     1
                      00049 
                      00050 ;--------------------------------------------------------
                      00051 ; global & static initialisations
                      00052 ;--------------------------------------------------------
                      00053 ; I code from now on!
gpasm-0.14.1 (Aug 18 2017)   memset.asm         8-18-2017  19:22:11          PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00054 ; ; Starting pCode block
                      00055 ; ;ic:1:  _entry($5) :
                      00056 ; ;ic:2:        proc _memset [k1 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{void generic* function ( void near* fixed, unsigned-char fixed, unsigned-int fixed) fixed}
                      00057 S_memset__memset        code
000000                00058 _memset:
                      00059 ;       .line   32; string/memset.c     memset (void _STRING_SPEC *buf, unsigned char ch, size_t count) 
000000 CFD9 FFE5      00060         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      00061         MOVFF   FSR1L, FSR2L
000008 C000 FFE5      00062         MOVFF   r0x00, POSTDEC1
00000C C000 FFE5      00063         MOVFF   r0x01, POSTDEC1
000010 C000 FFE5      00064         MOVFF   r0x02, POSTDEC1
000014 C000 FFE5      00065         MOVFF   r0x03, POSTDEC1
000018 C000 FFE5      00066         MOVFF   r0x04, POSTDEC1
00001C C000 FFE5      00067         MOVFF   r0x05, POSTDEC1
000020 C000 FFE5      00068         MOVFF   r0x06, POSTDEC1
000024 C000 FFE5      00069         MOVFF   r0x07, POSTDEC1
000028 C000 FFE5      00070         MOVFF   r0x08, POSTDEC1
00002C C000 FFE5      00071         MOVFF   r0x09, POSTDEC1
                      00072 ; ;ic:3: iTemp0 [k2 lr3:16 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{void near* fixed}{ sir@ _memset_buf_1_28}[r0x00 r0x01 ] = recv _memset [k1 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{void generic* function ( void near* fixed, unsigned-char fixed, unsigned-int fixed) fixed}
000030 0E02           00073         MOVLW   0x02
000032 CFDB F000      00074         MOVFF   PLUSW2, r0x00
000036 0E03           00075         MOVLW   0x03
000038 CFDB F000      00076         MOVFF   PLUSW2, r0x01
                      00077 ; ;ic:4: iTemp1 [k4 lr4:14 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{unsigned-char fixed}{ sir@ _memset_ch_1_28}[r0x02 ] = recv _memset [k1 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{void generic* function ( void near* fixed, unsigned-char fixed, unsigned-int fixed) fixed}
00003C 0E04           00078         MOVLW   0x04
00003E CFDB F000      00079         MOVFF   PLUSW2, r0x02
                      00080 ; ;ic:5: iTemp6 [k12 lr5:14 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-int fixed}[r0x03 r0x04 ] = recv _memset [k1 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{void generic* function ( void near* fixed, unsigned-char fixed, unsigned-int fixed) fixed}
000042 0E05           00081         MOVLW   0x05
000044 CFDB F000      00082         MOVFF   PLUSW2, r0x03
000048 0E06           00083         MOVLW   0x06
00004A CFDB F000      00084         MOVFF   PLUSW2, r0x04
                      00085 ; ;ic:6:        iTemp8 [k14 lr6:14 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-char generic* fixed}[r0x05 r0x06 r0x07 ] = (unsigned-char generic* fixed)iTemp0 [k2 lr3:16 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{void near* fixed}{ sir@ _memset_buf_1_28}[r0x00 r0x01 ]
                      00086 ;       .line   34; string/memset.c     register unsigned char *ret = buf;
00004E 5000           00087         MOVF    r0x01, W
000050 6E00           00088         MOVWF   r0x06
000052 5000           00089         MOVF    r0x00, W
000054 6E00           00090         MOVWF   r0x05
000056 0E80           00091         MOVLW   0x80
000058 6E00           00092         MOVWF   r0x07
                      00093 ; ;ic:8:  _whilecontinue_0($1) :
                      00094 ; ;ic:9:        iTemp5 [k11 lr9:11 so:0]{ ia0 a2p0 re0 rm0 nos1 ru0 dp0}{unsigned-int fixed}[r0x08 r0x09 ] := iTemp6 [k12 lr5:14 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-int fixed}[r0x03 r0x04 ]
00005A                00095 _00105_DS_:
                      00096 ;       .line   36; string/memset.c     while (count--)
00005A C000 F000      00097         MOVFF   r0x03, r0x08
00005E C000 F000      00098         MOVFF   r0x04, r0x09
                      00099 ; ;ic:10:       iTemp6 [k12 lr5:14 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-int fixed}[r0x03 r0x04 ] = iTemp6 [k12 lr5:14 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-int fixed}[r0x03 r0x04 ] - 0x1 {const-unsigned-char literal}
000062 0EFF           00100         MOVLW   0xff
000064 2600           00101         ADDWF   r0x03, F
000066 2200           00102         ADDWFC  r0x04, F
                      00103 ; ;ic:11:       if iTemp5 [k11 lr9:11 so:0]{ ia0 a2p0 re0 rm0 nos1 ru0 dp0}{unsigned-int fixed}[r0x08 r0x09 ] == 0 goto _whilebreak_0($3)
000068 5000           00104         MOVF    r0x08, W
00006A 1000           00105         IORWF   r0x09, W
00006C E000           00106         BZ      _00107_DS_
gpasm-0.14.1 (Aug 18 2017)   memset.asm         8-18-2017  19:22:11          PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00107 ; ;ic:12:       *(iTemp8 [k14 lr6:14 so:0]{ ia1 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-char generic* fixed}[r0x05 r0x06 r0x07 ]) := iTemp1 [k4 lr4:14 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{unsigned-char fixed}{ sir@ _memset_ch_1_28}[r0x02 ]
                      00108 ;       .line   38; string/memset.c     *(unsigned char *)ret = ch;
00006E C000 FFE5      00109         MOVFF   r0x02, POSTDEC1
000072 C000 FFE9      00110         MOVFF   r0x05, FSR0L
000076 C000 FFF3      00111         MOVFF   r0x06, PRODL
00007A 5000           00112         MOVF    r0x07, W
00007C EC00 F000      00113         CALL    __gptrput1
                      00114 ; ;ic:13:       iTemp8 [k14 lr6:14 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-char generic* fixed}[r0x05 r0x06 r0x07 ] = iTemp8 [k14 lr6:14 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-char generic* fixed}[r0x05 r0x06 r0x07 ] + 0x1 {const-unsigned-char literal}
                      00115 ;       .line   39; string/memset.c     ++ret;
000080 2A00           00116         INCF    r0x05, F
000082 E300           00117         BNC     _00105_DS_
000084 4A00           00118         INFSNZ  r0x06, F
000086 2A00           00119         INCF    r0x07, F
                      00120 ; ;ic:14:        goto _whilecontinue_0($1)
000088                00121 _00115_DS_:
000088 D000           00122         BRA     _00105_DS_
                      00123 ; ;ic:15:  _whilebreak_0($3) :
                      00124 ; ;ic:16:       iTemp9 [k15 lr16:17 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{void generic* fixed}[r0x00 r0x01 r0x02 ] = (void generic* fixed)iTemp0 [k2 lr3:16 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{void near* fixed}{ sir@ _memset_buf_1_28}[r0x00 r0x01 ]
                      00125 ; #     MOVF    r0x00, W
                      00126 ; #     MOVWF   r0x00
00008A                00127 _00107_DS_:
                      00128 ;       .line   42; string/memset.c     return buf;
00008A 0E80           00129         MOVLW   0x80
00008C 6E00           00130         MOVWF   r0x02
                      00131 ; ;ic:17:       ret iTemp9 [k15 lr16:17 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{void generic* fixed}[r0x00 r0x01 r0x02 ]
00008E C000 FFF4      00132         MOVFF   r0x02, PRODH
000092 C000 FFF3      00133         MOVFF   r0x01, PRODL
000096 5000           00134         MOVF    r0x00, W
                      00135 ; ;ic:18:  _return($4) :
                      00136 ; ;ic:19:       eproc _memset [k1 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{void generic* function ( void near* fixed, unsigned-char fixed, unsigned-int fixed) fixed}
000098 CFE4 F000      00137         MOVFF   PREINC1, r0x09
00009C CFE4 F000      00138         MOVFF   PREINC1, r0x08
0000A0 CFE4 F000      00139         MOVFF   PREINC1, r0x07
0000A4 CFE4 F000      00140         MOVFF   PREINC1, r0x06
0000A8 CFE4 F000      00141         MOVFF   PREINC1, r0x05
0000AC CFE4 F000      00142         MOVFF   PREINC1, r0x04
0000B0 CFE4 F000      00143         MOVFF   PREINC1, r0x03
0000B4 CFE4 F000      00144         MOVFF   PREINC1, r0x02
0000B8 CFE4 F000      00145         MOVFF   PREINC1, r0x01
0000BC CFE4 F000      00146         MOVFF   PREINC1, r0x00
0000C0 CFE4 FFD9      00147         MOVFF   PREINC1, FSR2L
0000C4 0012           00148         RETURN  
                      00149 
                      00150 
                      00151 
                      00152 ; Statistics:
                      00153 ; code size:      198 (0x00c6) bytes ( 0.15%)
                      00154 ;                  99 (0x0063) words
                      00155 ; udata size:       0 (0x0000) bytes ( 0.00%)
                      00156 ; access size:     10 (0x000a) bytes
                      00157 
                      00158 
                      00159         end
gpasm-0.14.1 (Aug 18 2017)   memset.asm         8-18-2017  19:22:11          PAGE  4


SYMBOL TABLE
  LABEL                             VALUE

FSR0L                             00000FE9
FSR1L                             00000FE1
FSR2L                             00000FD9
PLUSW2                            00000FDB
POSTDEC1                          00000FE5
PREINC1                           00000FE4
PRODH                             00000FF4
PRODL                             00000FF3
STATUS                            00000FD8
WREG                              00000FE8
_00105_DS_                        0000005A
_00107_DS_                        0000008A
_00115_DS_                        00000088
__18F452                          00000001
__gptrput1                        00000000
_memset                           00000000
r0x00                             00000000
r0x01                             00000001
r0x02                             00000002
r0x03                             00000003
r0x04                             00000004
r0x05                             00000005
r0x06                             00000006
r0x07                             00000007
r0x08                             00000008
r0x09                             00000009

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed


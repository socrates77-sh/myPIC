gpasm-0.14.1 (Aug 18 2017)   free.asm           8-18-2017  19:21:52          PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;--------------------------------------------------------
                      00002 ; File Created by SDCC : free open source ANSI-C Compiler
                      00003 ; Version 3.2.0 #8004 (Aug 18 2017) (MINGW32)
                      00004 ; This file was generated Fri Aug 18 19:21:52 2017
                      00005 ;--------------------------------------------------------
                      00006 ; PIC16 port for the Microchip 16-bit core micros
                      00007 ;--------------------------------------------------------
                      00008         list    p=18f452
                      00009 
                      00010         radix dec
                      00011 
                      00012 ;--------------------------------------------------------
                      00013 ; public variables in this module
                      00014 ;--------------------------------------------------------
                      00015         global  _free
                      00016 
                      00017 ;--------------------------------------------------------
                      00018 ; extern variables in this module
                      00019 ;--------------------------------------------------------
                      00020         extern  _heap
                      00021 
                      00022 ;--------------------------------------------------------
                      00023 ;       Equates to used internal registers
                      00024 ;--------------------------------------------------------
  00000FE9            00025 FSR0L   equ     0xfe9
  00000FEA            00026 FSR0H   equ     0xfea
  00000FE1            00027 FSR1L   equ     0xfe1
  00000FD9            00028 FSR2L   equ     0xfd9
  00000FEF            00029 INDF0   equ     0xfef
  00000FE5            00030 POSTDEC1        equ     0xfe5
  00000FE4            00031 PREINC1 equ     0xfe4
  00000FDB            00032 PLUSW2  equ     0xfdb
                      00033 
                      00034 
                      00035 ; Internal registers
                      00036 .registers      udata_ovr       0x0000
000000                00037 r0x00   res     1
000001                00038 r0x01   res     1
                      00039 
                      00040 ;--------------------------------------------------------
                      00041 ; global & static initialisations
                      00042 ;--------------------------------------------------------
                      00043 ; I code from now on!
                      00044 ; ; Starting pCode block
                      00045 ; ;ic:1:  _entry($2) :
                      00046 ; ;ic:2:        proc _free [k1 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{void function ( unsigned-char near* fixed) fixed}
                      00047 S_free__free    code
000000                00048 _free:
                      00049 ;       .line   33; stdlib/free.c       void free(unsigned char _MALLOC_SPEC *buf)
000000 CFD9 FFE5      00050         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      00051         MOVFF   FSR1L, FSR2L
000008 C000 FFE5      00052         MOVFF   r0x00, POSTDEC1
00000C C000 FFE5      00053         MOVFF   r0x01, POSTDEC1
gpasm-0.14.1 (Aug 18 2017)   free.asm           8-18-2017  19:21:52          PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00054 ; ;ic:3: iTemp0 [k2 lr3:4 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{unsigned-char near* fixed}{ sir@ _free_buf_1_9}[r0x00 r0x01 ] = recv _free [k1 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{void function ( unsigned-char near* fixed) fixed}
000010 0E02           00055         MOVLW   0x02
000012 CFDB F000      00056         MOVFF   PLUSW2, r0x00
000016 0E03           00057         MOVLW   0x03
000018 CFDB F000      00058         MOVFF   PLUSW2, r0x01
                      00059 ; ;ic:4:        iTemp1 [k4 lr4:5 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-int fixed}[r0x00 r0x01 ] = (unsigned-int fixed)iTemp0 [k2 lr3:4 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{unsigned-char near* fixed}{ sir@ _free_buf_1_9}[r0x00 r0x01 ]
                      00060 ; ;ic:5:        iTemp2 [k5 lr5:6 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-int register}[r0x00 r0x01 ] = iTemp1 [k4 lr4:5 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-int fixed}[r0x00 r0x01 ] - 0x1 {unsigned-int literal}
                      00061 ;       .line   36; stdlib/free.c       ((_MALLOC_SPEC _malloc_rec *)((unsigned int)buf - 1))->bits.alloc = 0;
00001C 0EFF           00062         MOVLW   0xff
00001E 2600           00063         ADDWF   r0x00, F
000020 2200           00064         ADDWFC  r0x01, F
                      00065 ; ;ic:6:        iTemp5 [k10 lr6:7 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{volatile-unsigned-bitfield {7,1} near* fixed}[r0x00 r0x01 ] = (struct __00000000 near* fixed)iTemp2 [k5 lr5:6 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-int register}[r0x00 r0x01 ]
                      00066 ; ;ic:7:        *(iTemp5 [k10 lr6:7 so:0]{ ia1 a2p0 re0 rm0 nos0 ru0 dp0}{volatile-unsigned-bitfield {7,1} near* fixed}[r0x00 r0x01 ]) := 0x0 {const-unsigned-char literal}
000022 C000 FFE9      00067         MOVFF   r0x00, FSR0L
000026 C000 FFEA      00068         MOVFF   r0x01, FSR0H
00002A 9EEF           00069         BCF     INDF0, 7
                      00070 ; ;ic:8:  _return($1) :
                      00071 ; ;ic:9:        eproc _free [k1 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{void function ( unsigned-char near* fixed) fixed}
00002C CFE4 F000      00072         MOVFF   PREINC1, r0x01
000030 CFE4 F000      00073         MOVFF   PREINC1, r0x00
000034 CFE4 FFD9      00074         MOVFF   PREINC1, FSR2L
000038 0012           00075         RETURN  
                      00076 
                      00077 
                      00078 
                      00079 ; Statistics:
                      00080 ; code size:       58 (0x003a) bytes ( 0.04%)
                      00081 ;                  29 (0x001d) words
                      00082 ; udata size:       0 (0x0000) bytes ( 0.00%)
                      00083 ; access size:      2 (0x0002) bytes
                      00084 
                      00085 
                      00086         end
gpasm-0.14.1 (Aug 18 2017)   free.asm           8-18-2017  19:21:52          PAGE  3


SYMBOL TABLE
  LABEL                             VALUE

FSR0H                             00000FEA
FSR0L                             00000FE9
FSR1L                             00000FE1
FSR2L                             00000FD9
INDF0                             00000FEF
PLUSW2                            00000FDB
POSTDEC1                          00000FE5
PREINC1                           00000FE4
__18F452                          00000001
_free                             00000000
_heap                             00000000
r0x00                             00000000
r0x01                             00000001

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed


gpasm-0.14.1 (Aug 18 2017)   sprintf.asm        8-18-2017  19:21:38          PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;--------------------------------------------------------
                      00002 ; File Created by SDCC : free open source ANSI-C Compiler
                      00003 ; Version 3.2.0 #8004 (Aug 18 2017) (MINGW32)
                      00004 ; This file was generated Fri Aug 18 19:21:38 2017
                      00005 ;--------------------------------------------------------
                      00006 ; PIC16 port for the Microchip 16-bit core micros
                      00007 ;--------------------------------------------------------
                      00008         list    p=18f452
                      00009 
                      00010         radix dec
                      00011 
                      00012 ;--------------------------------------------------------
                      00013 ; public variables in this module
                      00014 ;--------------------------------------------------------
                      00015         global  _sprintf
                      00016 
                      00017 ;--------------------------------------------------------
                      00018 ; extern variables in this module
                      00019 ;--------------------------------------------------------
                      00020         extern  __gptrput1
                      00021         extern  _stdin
                      00022         extern  _stdout
                      00023         extern  _vfprintf
                      00024 
                      00025 ;--------------------------------------------------------
                      00026 ;       Equates to used internal registers
                      00027 ;--------------------------------------------------------
  00000FE8            00028 WREG    equ     0xfe8
  00000FE9            00029 FSR0L   equ     0xfe9
  00000FE1            00030 FSR1L   equ     0xfe1
  00000FD9            00031 FSR2L   equ     0xfd9
  00000FDA            00032 FSR2H   equ     0xfda
  00000FE5            00033 POSTDEC1        equ     0xfe5
  00000FE4            00034 PREINC1 equ     0xfe4
  00000FDB            00035 PLUSW2  equ     0xfdb
  00000FF3            00036 PRODL   equ     0xff3
                      00037 
                      00038 
                      00039 ; Internal registers
                      00040 .registers      udata_ovr       0x0000
000000                00041 r0x00   res     1
000001                00042 r0x01   res     1
000002                00043 r0x02   res     1
000003                00044 r0x03   res     1
000004                00045 r0x04   res     1
000005                00046 r0x05   res     1
000006                00047 r0x06   res     1
000007                00048 r0x07   res     1
000008                00049 r0x08   res     1
                      00050 
                      00051 ;--------------------------------------------------------
                      00052 ; global & static initialisations
                      00053 ;--------------------------------------------------------
gpasm-0.14.1 (Aug 18 2017)   sprintf.asm        8-18-2017  19:21:38          PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00054 ; I code from now on!
                      00055 ; ; Starting pCode block
                      00056 ; ;ic:1:  _entry($2) :
                      00057 ; ;ic:2:        proc _sprintf [k1 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{int function ( char generic* fixed, char generic* auto) __reentrant fixed}
                      00058 S_sprintf__sprintf      code
000000                00059 _sprintf:
                      00060 ;       .line   33; stdio/sprintf.c     sprintf (char *ebuf, char *fmt, ...)
000000 CFD9 FFE5      00061         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      00062         MOVFF   FSR1L, FSR2L
000008 C000 FFE5      00063         MOVFF   r0x00, POSTDEC1
00000C C000 FFE5      00064         MOVFF   r0x01, POSTDEC1
000010 C000 FFE5      00065         MOVFF   r0x02, POSTDEC1
000014 C000 FFE5      00066         MOVFF   r0x03, POSTDEC1
000018 C000 FFE5      00067         MOVFF   r0x04, POSTDEC1
00001C C000 FFE5      00068         MOVFF   r0x05, POSTDEC1
                      00069 ; ;ic:3:        iTemp1 [k5 lr3:4 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{char generic* near* auto}[r0x00 r0x01 ] = &[fmt [k4 lr0:0 so:5]{ ia1 a2p0 re0 rm0 nos0 ru0 dp0}{char generic* auto}]
                      00070 ;       .line   38; stdio/sprintf.c     ap = va_start (ap, fmt);
000020 0E05           00071         MOVLW   0x05
000022 24D9           00072         ADDWF   FSR2L, W
000024 6E00           00073         MOVWF   r0x00
000026 0E00           00074         MOVLW   0x00
000028 20DA           00075         ADDWFC  FSR2H, W
                      00076 ; #     MOVWF   r0x01
                      00077 ; #;;ic:4:      iTemp2 [k6 lr4:5 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-char generic* fixed}[r0x00 r0x01 r0x02 ] = (unsigned-char generic* fixed)iTemp1 [k5 lr3:4 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{char generic* near* auto}[r0x00 r0x01 ]
                      00078 ; #     MOVF    r0x01, W
                      00079 ; #     MOVWF   r0x01
                      00080 ; #     MOVWF   r0x01
00002A 6E00           00081         MOVWF   r0x01
                      00082 ; #     MOVF    r0x00, W
                      00083 ; #     MOVWF   r0x00
00002C 0E80           00084         MOVLW   0x80
00002E 6E00           00085         MOVWF   r0x02
                      00086 ; ;ic:5:        iTemp0 [k2 lr5:9 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{unsigned-char generic* auto}{ sir@ _sprintf_ap_1_17}[r0x00 r0x01 r0x02 ] = iTemp2 [k6 lr4:5 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{unsigned-char generic* fixed}[r0x00 r0x01 r0x02 ] + 0x3 {const-unsigned-char literal}
000030 0E03           00087         MOVLW   0x03
000032 2600           00088         ADDWF   r0x00, F
000034 0E00           00089         MOVLW   0x00
000036 2200           00090         ADDWFC  r0x01, F
000038 2200           00091         ADDWFC  r0x02, F
                      00092 ; ;ic:6:        iTemp5 [k12 lr6:9 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{char generic* generic* fixed}[r0x03 r0x04 r0x05 ] = (char generic* generic* fixed)ebuf [k11 lr0:0 so:2]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{char generic* fixed}
                      00093 ;       .line   39; stdio/sprintf.c     i = vfprintf ((FILE *) ebuf, fmt, ap);
00003A C000 FFE5      00094         MOVFF   r0x06, POSTDEC1
00003E C000 FFE5      00095         MOVFF   r0x07, POSTDEC1
000042 C000 FFE5      00096         MOVFF   r0x08, POSTDEC1
000046 0E02           00097         MOVLW   0x02
000048 CFDB F000      00098         MOVFF   PLUSW2, r0x06
00004C 0E03           00099         MOVLW   0x03
00004E CFDB F000      00100         MOVFF   PLUSW2, r0x07
000052 0E04           00101         MOVLW   0x04
000054 CFDB F000      00102         MOVFF   PLUSW2, r0x08
000058 5000           00103         MOVF    r0x08, W
00005A 6E00           00104         MOVWF   r0x05
00005C 5000           00105         MOVF    r0x07, W
00005E 6E00           00106         MOVWF   r0x04
gpasm-0.14.1 (Aug 18 2017)   sprintf.asm        8-18-2017  19:21:38          PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000060 5000           00107         MOVF    r0x06, W
000062 6E00           00108         MOVWF   r0x03
000064 CFE4 F000      00109         MOVFF   PREINC1, r0x08
000068 CFE4 F000      00110         MOVFF   PREINC1, r0x07
00006C CFE4 F000      00111         MOVFF   PREINC1, r0x06
                      00112 ; ;ic:7:        send iTemp5 [k12 lr6:9 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{char generic* generic* fixed}[r0x03 r0x04 r0x05 ]{argreg = 1}
                      00113 ; ;ic:8:        send fmt [k4 lr0:0 so:5]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{char generic* auto}{argreg = 2}
                      00114 ; ;ic:9:        send iTemp0 [k2 lr5:9 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{unsigned-char generic* auto}{ sir@ _sprintf_ap_1_17}[r0x00 r0x01 r0x02 ]{argreg = 3}
                      00115 ; ;ic:10:       iTemp6 [k16 lr10:11 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{int fixed}{ sir@ _sprintf_i_1_17}[r0x00 r0x01 ] = call _vfprintf [k10 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{int function ( char generic* generic* fixed, const-char generic* fixed, unsigned-char generic* fixed) fixed}
000070 5000           00116         MOVF    r0x02, W
000072 6EE5           00117         MOVWF   POSTDEC1
000074 5000           00118         MOVF    r0x01, W
000076 6EE5           00119         MOVWF   POSTDEC1
000078 5000           00120         MOVF    r0x00, W
00007A 6EE5           00121         MOVWF   POSTDEC1
00007C 0E07           00122         MOVLW   0x07
00007E CFDB FFE5      00123         MOVFF   PLUSW2, POSTDEC1
000082 0E06           00124         MOVLW   0x06
000084 CFDB FFE5      00125         MOVFF   PLUSW2, POSTDEC1
000088 0E05           00126         MOVLW   0x05
00008A CFDB FFE5      00127         MOVFF   PLUSW2, POSTDEC1
00008E 5000           00128         MOVF    r0x05, W
000090 6EE5           00129         MOVWF   POSTDEC1
000092 5000           00130         MOVF    r0x04, W
000094 6EE5           00131         MOVWF   POSTDEC1
000096 5000           00132         MOVF    r0x03, W
000098 6EE5           00133         MOVWF   POSTDEC1
00009A EC00 F000      00134         CALL    _vfprintf
00009E 6E00           00135         MOVWF   r0x00
0000A0 CFF3 F000      00136         MOVFF   PRODL, r0x01
0000A4 0E09           00137         MOVLW   0x09
0000A6 26E1           00138         ADDWF   FSR1L, F
                      00139 ; ;ic:11:       iTemp4 [k8 lr11:14 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{unsigned-int auto}{ sir@ _sprintf_i_1_17}[r0x00 r0x01 ] := iTemp6 [k16 lr10:11 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{int fixed}{ sir@ _sprintf_i_1_17}[r0x00 r0x01 ]
                      00140 ; ;ic:12:       iTemp7 [k17 lr12:13 so:0]{ ia1 a2p0 re0 rm0 nos0 ru0 dp0}{char generic* fixed}[r0x02 r0x03 r0x04 ] = ebuf [k11 lr0:0 so:2]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{char generic* fixed} + iTemp4 [k8 lr11:14 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{unsigned-int auto}{ sir@ _sprintf_i_1_17}[r0x00 r0x01 ]
                      00141 ;       .line   40; stdio/sprintf.c     ebuf[i] = '\0';
0000A8 C000 FFE5      00142         MOVFF   r0x06, POSTDEC1
0000AC C000 FFE5      00143         MOVFF   r0x07, POSTDEC1
0000B0 C000 FFE5      00144         MOVFF   r0x08, POSTDEC1
0000B4 0E02           00145         MOVLW   0x02
0000B6 CFDB F000      00146         MOVFF   PLUSW2, r0x06
0000BA 0E03           00147         MOVLW   0x03
0000BC CFDB F000      00148         MOVFF   PLUSW2, r0x07
0000C0 0E04           00149         MOVLW   0x04
0000C2 CFDB F000      00150         MOVFF   PLUSW2, r0x08
0000C6 5000           00151         MOVF    r0x00, W
0000C8 2400           00152         ADDWF   r0x06, W
0000CA 6E00           00153         MOVWF   r0x02
0000CC 5000           00154         MOVF    r0x01, W
0000CE 2000           00155         ADDWFC  r0x07, W
0000D0 6E00           00156         MOVWF   r0x03
0000D2 6AE8           00157         CLRF    WREG
0000D4 2000           00158         ADDWFC  r0x08, W
0000D6 CFE4 F000      00159         MOVFF   PREINC1, r0x08
gpasm-0.14.1 (Aug 18 2017)   sprintf.asm        8-18-2017  19:21:38          PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0000DA CFE4 F000      00160         MOVFF   PREINC1, r0x07
0000DE CFE4 F000      00161         MOVFF   PREINC1, r0x06
                      00162 ; ;ic:13:       *(iTemp7 [k17 lr12:13 so:0]{ ia1 a2p0 re0 rm0 nos0 ru0 dp0}{char generic* fixed}[r0x02 r0x03 r0x04 ]) := 0x0 {const-char literal}
0000E2 6AE5           00163         CLRF    POSTDEC1
0000E4 C000 FFE9      00164         MOVFF   r0x02, FSR0L
0000E8 C000 FFF3      00165         MOVFF   r0x03, PRODL
0000EC EC00 F000      00166         CALL    __gptrput1
                      00167 ; ;ic:14:       ret iTemp4 [k8 lr11:14 so:0]{ ia0 a2p0 re1 rm0 nos0 ru0 dp0}{unsigned-int auto}{ sir@ _sprintf_i_1_17}[r0x00 r0x01 ]
                      00168 ;       .line   42; stdio/sprintf.c     return i;
0000F0 C000 FFF3      00169         MOVFF   r0x01, PRODL
0000F4 5000           00170         MOVF    r0x00, W
                      00171 ; ;ic:15:  _return($1) :
                      00172 ; ;ic:16:       eproc _sprintf [k1 lr0:0 so:0]{ ia0 a2p0 re0 rm0 nos0 ru0 dp0}{int function ( char generic* fixed, char generic* auto) __reentrant fixed}
0000F6 CFE4 F000      00173         MOVFF   PREINC1, r0x05
0000FA CFE4 F000      00174         MOVFF   PREINC1, r0x04
0000FE CFE4 F000      00175         MOVFF   PREINC1, r0x03
000102 CFE4 F000      00176         MOVFF   PREINC1, r0x02
000106 CFE4 F000      00177         MOVFF   PREINC1, r0x01
00010A CFE4 F000      00178         MOVFF   PREINC1, r0x00
00010E CFE4 FFD9      00179         MOVFF   PREINC1, FSR2L
000112 0012           00180         RETURN  
                      00181 
                      00182 
                      00183 
                      00184 ; Statistics:
                      00185 ; code size:      276 (0x0114) bytes ( 0.21%)
                      00186 ;                 138 (0x008a) words
                      00187 ; udata size:       0 (0x0000) bytes ( 0.00%)
                      00188 ; access size:      9 (0x0009) bytes
                      00189 
                      00190 
                      00191         end
gpasm-0.14.1 (Aug 18 2017)   sprintf.asm        8-18-2017  19:21:38          PAGE  5


SYMBOL TABLE
  LABEL                             VALUE

FSR0L                             00000FE9
FSR1L                             00000FE1
FSR2H                             00000FDA
FSR2L                             00000FD9
PLUSW2                            00000FDB
POSTDEC1                          00000FE5
PREINC1                           00000FE4
PRODL                             00000FF3
WREG                              00000FE8
__18F452                          00000001
__gptrput1                        00000000
_sprintf                          00000000
_stdin                            00000000
_stdout                           00000000
_vfprintf                         00000000
r0x00                             00000000
r0x01                             00000001
r0x02                             00000002
r0x03                             00000003
r0x04                             00000004
r0x05                             00000005
r0x06                             00000006
r0x07                             00000007
r0x08                             00000008

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

